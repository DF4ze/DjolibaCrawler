<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Geny's Blower</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link rel="stylesheet"  href="style.css">
</head>
<body>

<div class="text-center">
	<h1>
		<img src="https://djoliba.com/img/djoliba-music-store-logo-1497371188.jpg" width="91" height="80" id="logoGeny" alt="Page d'accueil GENY">
		Djoliba's Crawler
	</h1>
</div>

<nav id="navbar" class="navbar navbar-expand-lg navbar-light bg-light">
<!--   <a class="navbar-brand" href="#">Navbar</a> -->
<!--   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> -->
<!--     <span class="navbar-toggler-icon"></span> -->
<!--   </button> -->
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/skins">Skins </a>
        </li>
      <li class="nav-item">
        <a class="nav-link" href="/frames">Frames </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/rules">Rules </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/crawl">Crawl </a>
      </li>
<!--       <li class="nav-item"> -->
<!--         <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a> -->
<!--       </li> -->
    </ul>
  </div>
</nav>



<form method="post" modelAttribute="configuration" th:action="@{/}" th:object="${configuration}"><br/>
<div class="m-4 mt-0">
     <div class="row mb-3">
        <label class="col-sm-1 col-form-label" for="maxHop">Max HOP</label>
        <div class="col-sm-11">
        	<input type="text" class="form-control" id="maxHop" placeholder="Max HOP" th:field="*{maxHop}">
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-1 col-form-label" for="maxRetry">Max Retry</label>
        <div class="col-sm-11">
        	<input type="text" class="form-control" id="maxRetry" placeholder="Max Retry" th:field="*{maxRetry}">
        </div>
    </div>
    <div class="row mb-3">
    	<label class="col-sm-1 col-form-label" for="agressivity">Agressivity</label>
    	<div class="col-sm-11">
		    <select class="form-select" th:field="*{agressivity}">
			    <option th:each="agrVal : ${T(fr.ses10doigts.djolibaCrawler.model.crawl.enumerate.Agressivity).values()}" 
        th:value="${agrVal}" th:text="${agrVal}"></option>
			</select>
		</div>
	</div>
	<div class="row mb-3">
    	<label class="col-sm-1 col-form-label" for="seeds">Seeds</label>
    	<div class="col-sm-8">
		    <textarea class="form-control"  rows="5" id="seeds" th:field="*{txtSeeds}"></textarea>
		</div>
		<div class="col-sm-3 form-group">
		    <div class="datepicker date input-group">
		        <input type="text"  placeholder="Choisir une date de début" class=" col-sm-10 form-control" id="debutDate" th:field="*{startGenDate}">
		        <div class="col-sm-2 input-group-append"><span class="input-group-text px-4"><i class="fa fa-calendar"></i></span></div>
		    </div>
		    <div class="mt-1 datepicker date input-group">
		        <input type="text"  placeholder="Choisir une date de fin" class="col-sm-10 form-control" id="finDate" th:field="*{endGenDate}">
		        <div class="col-sm-2 input-group-append"><span class="input-group-text px-4"><i class="fa fa-calendar"></i></span></div>
		    </div>
		    <button type="submit" name="action" value="generate" class="mt-1 col-sm-12 btn btn-success " >Generate</button>
		</div>
	</div>
	<div class="row mb-3">
    	<label class="col-sm-1 col-form-label" for="auth">Authorisations</label>
    	<div class="col-sm-11">
		    <textarea class="form-control" id="auth" th:field="*{authorized}"></textarea>
		</div>
	</div>
   
    <div class="row mb-3">
        <div class="col-sm-1">Actions </div>
        <div class="col-sm-1 form-check form-check-inline">
            <input type="checkbox" class="form-check-input" name="actions" id="doCrawl" th:field="*{launchCrawl}">
            <label class="form-check-label" for="checkMusic">Do Crawl</label>
        </div>
        <div class="col-sm-2 form-check form-check-inline ms-3">
            <input type="checkbox" class="form-check-input" name="actions" id="doRefacto" th:field="*{launchRefacto}">
            <label class="form-check-label" for="checkTravel">Do Refactorization</label>
        </div>
        <div class="col-sm-8"></div>
    </div>


    <div class="row mb-3 mt-3">
	    <button type="submit" name="action" value="save" class="col-sm-4 btn btn-success " >Save</button>
	    <button type="submit" name="action" value="launch" class="col-sm-3 btn btn-primary mx-2" >Launch</button>
	    <button type="submit" name="action" value="stop" class="col-sm-4 btn btn-danger" >Stop</button>
<!-- 	    <button type="submit" name="action" value="test" class="col-sm-4 btn btn-danger" >Test</button> -->
	    
    </div>
    

</div>
</form>

<div class="m-4">
	<div class="row mb-3">
 		<div class="col-1 mr-2"><h3>Rapports</h3></div>
 		<div class="col-sm-11">
 			<a  th:href="@{/}"><img alt="refresh" src="img/refresh.png" width="50" height="50" title="Rafraichir les informations du travail en cours"></a>
 			<a  th:href="@{/generate}"> <img alt="generate" src="img/gear.png" width="50" height="50" title="Générer le fichier Excel"></a>
 			<a  href="courses.xlsx" download> <img alt="download" src="img/download.png" width="50" height="50" title="Télécharger le fichier Excel"></a>
 		</div>
 	</div>
<!--  	<div class="row "> -->
<!--  		<div class="col-1"></div> -->
<!--  		<div class="col-sm-11"> -->
<!--  			- <a  th:href="@{/}">Rafraichir les informations du travail en cours</a> -->
<!--  		</div> -->
<!--  	</div> -->
<!--  	<div class="row "> -->
<!--  		<div class="col-1"></div> -->
<!--  		<div class="col-sm-11"> -->
<!--  			- <a id="tittle" th:href="@{/}">Générer le fichier Excel</a> -->
<!--  		</div> -->
<!--  	</div> -->
<!--  	<div class="row "> -->
<!--  		<div class="col-1"></div> -->
<!--  		<div class="col-sm-11"> -->
<!--  			- <a id="tittle" th:href="@{/}">Télécharger le fichier Excel</a> -->
<!--  		</div> -->
<!--  	</div> -->
	<div class="row mb-3">
		
			<div class="col-sm-6">
				<h4>Crawl state :</h4>
			 	<div class="row mb-1">
			 		<div class="col-sm-11">
			 			<span id="run" th:text="${crawlReport.runningState}"></span>
			 		</div>
			 	</div>
			 	<div class="row mb-1">
			 		<div class="col-sm-11">
			 			<span id="final" th:text="${crawlReport.finalState}"></span><br/>
			 		</div>
			 	</div>
			 	<div class="row mb-1">
			    	<div class="col-sm-11">
					    <textarea class="form-control" rows="6" id="mess" th:text="${crawlReport.message}"></textarea>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<h4>Refactoring state :</h4>
			 	<div class="row mb-1">
			 		<div class="col-sm-11">
<!-- 			 			<span id="run" th:text="${refactReport.runningState}"></span> -->
			 		</div>
			 	</div>
			 	<div class="row mb-1">
			 		<div class="col-sm-11">
<!-- 			 			<span id="final" th:text="${refactReport.finalState}"></span><br/> -->
			 		</div>
			 	</div>
			 	<div class="row mb-1">
			    	<div class="col-sm-11">
<!-- 					    <textarea class="form-control" rows="6" id="mess" th:text="${refactReport.message}"></textarea> -->
					</div>
				</div>
			
	 	</div>
	 	
	</div>
</div>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="script.js"></script>
</body>
</html>